version: "1.0"
metadata:
  name: zyloch-backend
  description: Backend service configuration
	environment: production   # Tab character - should trigger warning
  owners:
    - platform@zyloch.example.com
    - security@zyloch.example.com

services:
  api:
    image: ghcr.io/zyloch/backend:1.4.2
    replicas: 2
    ports:
      - name: http
        containerPort 8080     # Missing colon - should trigger syntax error
        protocol: TCP
    env:
      NODE_ENV: production
      LOG_LEVEL: info
    resources:
      requests:
        memory: "512Mi"
        cpu: "500m"
      limits:
        memory: "1Gi"
        cpu: "1000m"

  database:
    image: postgres:15-alpine
    replicas: 1
    ports:
      - name: postgres
        containerPort: 5432

networking:
  ingress:
    enabled: true
    host: api.zyloch.example.com
    tls:
      enabled: true
      certManager: true

